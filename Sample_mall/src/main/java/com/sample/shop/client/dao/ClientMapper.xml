<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sample.shop.client.dao.ClientMapper">
	<select id="getProdList" resultType="com.sample.shop.model.prodVO">
		select p_no, p_name, to_char(p_price,'999G999G999')
		as p_price from prod
	</select>
	
	<select id="getProdDetail" resultType="prodVO">
		SELECT P_NAME, P_PRICE, P_INFO, P_NO FROM PROD WHERE P_NO = #{P_NO}
	</select>
	
	<insert id="userJoin">
		INSERT INTO mall_user
		(u_no, u_id, u_pw, u_name, u_mainaddress, u_subaddress, u_birth, u_phone
		, u_findpw_question, u_findpw_answer, u_auth)
		values
		(seq_mall_user.nextval, #{u_id}, #{u_pw}, #{u_name}, #{u_mainaddress}, #{u_subaddress}
		,#{u_birth},#{u_phone},#{u_findpw_question},#{u_findpw_answer},#{u_auth})
	</insert>
	
	<select id="getMainTypeList" resultType="prodVO">
		SELECT p_no, p_name, to_char(p_price, '999G999G999') AS p_price 
		FROM prod WHERE p_maintype = #{mainType}
	</select>
</mapper>